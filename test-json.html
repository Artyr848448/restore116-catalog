<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ JSON</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .product { border: 1px solid #ccc; margin: 10px 0; padding: 10px; }
        .error { color: red; }
        .success { color: green; }
    </style>
</head>
<body>
    <h1>–¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ JSON –¥–∞–Ω–Ω—ã—Ö</h1>
    <div id="status">–ó–∞–≥—Ä—É–∂–∞–µ–º...</div>
    <div id="products"></div>

    <script>
        console.log('üîÑ –ù–∞—á–∏–Ω–∞–µ–º —Ç–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ JSON...');
        
        fetch('products.json?' + Date.now())
            .then(response => {
                console.log('üì° –û—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞:', response.status);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(products => {
                console.log('‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:', products.length, '—Ç–æ–≤–∞—Ä–æ–≤');
                console.log('üì± –ü–µ—Ä–≤—ã–µ 3 —Ç–æ–≤–∞—Ä–∞:', products.slice(0, 3));
                
                document.getElementById('status').innerHTML = 
                    `<div class="success">‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ ${products.length} —Ç–æ–≤–∞—Ä–æ–≤!</div>`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 10 —Ç–æ–≤–∞—Ä–æ–≤
                const productsDiv = document.getElementById('products');
                products.slice(0, 10).forEach(product => {
                    const div = document.createElement('div');
                    div.className = 'product';
                    div.innerHTML = `
                        <strong>${product.model}</strong><br>
                        –ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${product.category}<br>
                        –¶–µ–Ω–∞: ${product.price.toLocaleString()} ‚ÇΩ<br>
                        –¶–≤–µ—Ç: ${product.color}<br>
                        –ü–∞–º—è—Ç—å: ${product.storage}
                    `;
                    productsDiv.appendChild(div);
                });
                
                if (products.length > 10) {
                    const moreDiv = document.createElement('div');
                    moreDiv.innerHTML = `<p>... –∏ –µ—â–µ ${products.length - 10} —Ç–æ–≤–∞—Ä–æ–≤</p>`;
                    productsDiv.appendChild(moreDiv);
                }
            })
            .catch(error => {
                console.error('‚ùå –û—à–∏–±–∫–∞:', error);
                document.getElementById('status').innerHTML = 
                    `<div class="error">‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${error.message}</div>`;
            });
    </script>
</body>
</html>
